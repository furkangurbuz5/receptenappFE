<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReceptenApp</title>
    <script>
        //GET method 
        function toonKookgerei(){
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if(this.readyState == 4){
                    //console.log(this.responseText);
                    var alleKookgerei = JSON.parse(this.responseText);
                    var eindString = "<table border=1>";
                    for(var x = 0;x<alleKookgerei.length;x++){
                        eindString += 
                            "<tr><td>" + alleKookgerei[x].naam+
                            "</td><td>"+alleKookgerei[x].type+
                            "</td><td>"+alleKookgerei[x].materiaal+
                            "</td><td>"+alleKookgerei[x].prijs+
                            "</td><td>"+alleKookgerei[x].webshopLink+
                            "</td><td><button onclick=verwijderen("
                            +alleKookgerei[x].kookgereiID+
                            ")>verwijder</button></td></tr>";
                    }
                    eindString += "</table>";
                    document.getElementById("alleKookgereiNamenTabel").innerHTML = eindString;
                }
            }
            xhr.open("GET","http://localhost:8082/allekookgerei",true);
            xhr.send();
        }

        //DELETE method 
        function verwijderen(deid){
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if(this.readyState == 4){
                }
            }
            xhr.open("DELETE", "http://localhost:8082/verwijderkookgerei/"+deid, true);
            xhr.send();
        }

        //POST method 
        function toevoegen(){
            var dekookgerei = {}; //maakt hier een lege JSON variable  
            dekookgerei.naam = document.getElementById("naamkookgerei").value;
            dekookgerei.type = document.getElementById("typekookgerei").value;
            dekookgerei.materiaal = document.getElementById("matkookgerei").value;
            dekookgerei.prijs = document.getElementById("prijskookgerei").value;
            dekookgerei.webshopLink = document.getElementById("webshopkookgerei").value;

            var deJSON = JSON.stringify(dekookgerei);
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if(this.readyState == 4){
                    console.log(deJSON);
                }
            }
            xhr.open("POST","http://localhost:8082/voegkookgereitoe",true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.send(deJSON);

        }

    </script>
</head>
<style>
    label {
    display:inline-block;
    width:110px;
    font-family:Verdana, Geneva, Tahoma, sans-serif;
    }

    li{
        list-style:none;
        
    }

    header{
        font-family:Verdana, Geneva, Tahoma, sans-serif;
    }

    div{
        margin-top:10px;
    }

    button{
        margin-top:5px;
    }
    
</style>

<body>
    <header> <h1>ReceptenApp!</h1></header>

    
        <li>
          <label for="naamkookgerei">Naam:</label>
          <input data-val-required="Het naam veld is verplicht." id="naamkookgerei"/>
        </li>
        <li>
          <label for="typekookgerei">Type:</label>
          <input id="typekookgerei"/>
        </li>
        <li>
          <label for="matkookgerei">Materiaal:</label>
          <input id="matkookgerei"/>
        </li>
        <li>
           <label for="prijskookgerei">Prijs:</label>
           <input id="prijskookgerei"/>
        </li>
        <li>
           <label for="webshopkookgerei">Webshoplink:</label>
           <input id="webshopkookgerei"/>
        </li>
        

        <button onclick="toevoegen()">Kookgerei toevoegen</button>
        <button onclick="toonKookgerei()">Toon alle Kookgerei</button>
        <div id="alleKookgereiNamenTabel"> </div>

      

</body>
</html>